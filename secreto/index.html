<!DOCTYPE html><html lang="es" data-base="${import.meta.env.BASE_URL}"> <head><meta charset="UTF-8"><title>Un √∫ltimo regalo üéÅ</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="/cumplemidani/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"><style>:root{--bg-light: #fffafc;--bg-dark: #1a1a1a;--text-light: white;--text-dark: white;--accent: #ff69b4;--accent-hover: #ff85c1;--button-bg: white;--button-text: #ff69b4}body{margin:0;font-family:Segoe UI,sans-serif;background-color:var(--bg-light);color:var(--text-light);transition:background .5s,color .5s;overflow-x:hidden;position:relative;z-index:0}body.dark{background-color:var(--bg-dark);color:var(--text-dark);background-image:url(${import.meta.env.BASE_URL}estrellas.gif);background-size:cover;background-repeat:repeat;background-attachment:fixed}.layout-header{display:flex;justify-content:space-between;align-items:center;padding:1rem}.volver-btn{background-color:transparent;color:var(--accent);font-size:1.2rem;text-decoration:none;font-weight:700;transition:color .3s ease}.volver-btn:hover{color:var(--accent-hover);animation:heartbeat 1s infinite}@keyframes heartbeat{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}button,.slide-button{background-color:var(--button-bg);color:var(--button-text);border:none;border-radius:1rem;cursor:pointer;font-size:1.2rem;padding:1rem 2rem;transition:background-color .3s ease,transform .3s ease,box-shadow .3s ease;box-shadow:0 0 10px #ff69b466;display:inline-block}button:hover,.slide-button:hover{background-color:var(--accent-hover);transform:scale(1.1);box-shadow:0 0 20px #ff69b499}input[type=date]{padding:.6em 1em;border-radius:8px;border:2px solid #ccc;font-size:1em;margin-top:1rem;background-color:#fffafc;color:var(--accent);box-shadow:0 2px 6px #ff69b433;transition:border-color .3s ease}input.invalid{border-color:red;animation:shake .3s ease}@keyframes shake{0%{transform:translate(0)}25%{transform:translate(-5px)}50%{transform:translate(5px)}75%{transform:translate(-5px)}to{transform:translate(0)}}.swiper-container{width:100%;max-width:600px;margin:0 auto;display:flex;justify-content:center}.swiper{max-width:500px;width:100%}.swiper-slide{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:1rem;box-sizing:border-box}.swiper-slide h2{font-size:1.2rem;margin-bottom:1rem;color:#fff}.swiper-slide img{max-width:80%;height:auto;margin:0 auto;display:block;border-radius:8px;box-shadow:0 4px 12px #0000001a}.slide-content,.secret-message{background-color:var(--accent);color:#fff;padding:1.5rem;border-radius:1rem;box-shadow:0 4px 12px #ff69b44d;max-width:600px;margin:2rem auto;font-size:1.1rem;line-height:1.6;text-align:center}.cat-gif,.hug-img,.teamo-img{display:block;width:100%;max-width:250px;height:auto;margin:1rem auto;border-radius:12px;box-shadow:0 4px 12px #ff69b44d}.footer-banner{background-color:var(--accent);color:#fff;text-align:center;padding:1rem;font-weight:700;font-size:1rem;margin-top:2rem;box-shadow:0 -2px 10px #0000001a}.fade-in{opacity:0;transform:translateY(20px);animation:fadeInUp 1s forwards}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}.petal-layer{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;pointer-events:none;overflow:hidden}.petal{position:absolute;top:-50px;font-size:1.5rem;animation:fall 10s linear infinite}@keyframes fall{to{transform:translateY(100vh) rotate(360deg)}}@media (max-width: 600px){h2,h3{font-size:1rem}.slide-button{font-size:1rem;padding:.8rem 1.5rem}.secret-message{padding:1rem;font-size:1rem}.hug-img{max-width:100%}}.gift-section{max-width:600px;margin:0 auto;padding:2rem}.page-transition{opacity:1;transition:opacity .6s ease}.page-transition.fade-out{opacity:0}
.gift-section[data-astro-cid-c5lffyp7]{text-align:center;padding:3rem}.gift-box[data-astro-cid-c5lffyp7]{font-size:3rem;cursor:pointer;display:inline-block;padding:2rem;border:2px solid #ff69b4;border-radius:1rem;animation:vibrar .5s infinite;background-color:#fff0f5;transition:transform .3s ease}.gift-box[data-astro-cid-c5lffyp7]:hover{transform:scale(1.05)}.gift-box[data-astro-cid-c5lffyp7].opening{animation:abrirCaja 1s forwards}@keyframes vibrar{0%{transform:rotate(0)}25%{transform:rotate(2deg)}50%{transform:rotate(-2deg)}75%{transform:rotate(2deg)}to{transform:rotate(0)}}@keyframes abrirCaja{0%{transform:scale(1) rotate(0);opacity:1}50%{transform:scale(1.2) rotate(10deg)}to{transform:scale(0) rotate(360deg);opacity:0}}.secret-message[data-astro-cid-c5lffyp7]{margin-top:2rem;opacity:0;transform:scale(.8);transition:opacity 1s ease,transform .5s ease;background-color:var(--accent);color:#fff;border-radius:1rem;padding:1.5rem;box-sizing:border-box;box-shadow:0 4px 12px #ff69b433;max-width:600px;margin:2rem auto;font-size:1.1rem;line-height:1.6;position:relative}.secret-message[data-astro-cid-c5lffyp7].visible{opacity:1;transform:scale(1)}.teamo-img[data-astro-cid-c5lffyp7]{display:block;width:100%;max-width:250px;height:auto;margin:1rem auto;border-radius:12px;box-shadow:0 4px 12px #ff69b44d}#exportBtn[data-astro-cid-c5lffyp7]{background-color:#fff0f5;border:2px solid #ff69b4;border-radius:8px;padding:.75rem 1.5rem;font-size:1rem;cursor:pointer;transition:all .3s ease}#exportBtn[data-astro-cid-c5lffyp7]:hover{background-color:#ff69b4;color:#fff;transform:scale(1.05)}@media (max-width: 600px){.gift-box[data-astro-cid-c5lffyp7]{font-size:2rem;padding:1.5rem}.secret-message[data-astro-cid-c5lffyp7]{padding:1rem;font-size:1rem}.teamo-img[data-astro-cid-c5lffyp7]{max-width:100%}}
</style></head> <body> <div class="petal-layer" aria-hidden="true"></div> <div class="layout-container"> <header class="layout-header"> <a href="#" onclick="goBack(event)" class="volver-btn">Atr√°s</a> <button id="modo-toggle">üåô / ‚òÄÔ∏è</button> </header> <main>  <section class="gift-section page-transition" data-astro-cid-c5lffyp7> <div class="gift-box" id="giftBox" data-astro-cid-c5lffyp7>
üéÅ
</div> <div class="secret-message" id="secretMessage" data-astro-cid-c5lffyp7> <h2 id="typedMessage" data-astro-cid-c5lffyp7></h2> <p data-astro-cid-c5lffyp7>Hay cosas que no caben en palabras, pero este regalo es solo una muestra de lo mucho que significas para m√≠.</p> <p data-astro-cid-c5lffyp7>Gracias por ser t√∫. Por tu luz, tu ternura, tu alegr√≠a. Te quiero con todo mi coraz√≥n.</p> <p data-astro-cid-c5lffyp7>Espero estar muchos cumplea√±os m√°s a tu lado. Contigo todo es mejor.</p> <h2 data-astro-cid-c5lffyp7>üñ§ Te amo üñ§</h2> <img src="/cumplemidani/hug.jpg" alt="Te amo" class="teamo-img" data-astro-cid-c5lffyp7> <button id="exportBtn" class="slide-button" style="margin-top:2rem;" data-astro-cid-c5lffyp7>
Guardar este momento como imagen üì∏
</button> </div> </section> <audio id="giftMusic" src="/cumplemidani/cancion.mp3" preload="auto" data-astro-cid-c5lffyp7></audio> <script type="module">
  import confetti from 'https://cdn.skypack.dev/canvas-confetti';
  import html2canvas from 'https://cdn.skypack.dev/html2canvas';

  document.addEventListener('DOMContentLoaded', () => {
    const box = document.getElementById('giftBox');
    const message = document.getElementById('secretMessage');
    const music = document.getElementById('giftMusic');
    const typed = document.getElementById('typedMessage');
    const exportBtn = document.getElementById('exportBtn');

    box.addEventListener('click', () => {
      box.classList.add('opening');

      setTimeout(() => {
        box.style.display = 'none';
        message.classList.add('visible');

        revealText(typed, 'üíñ FELIZ CUMPLEA√ëOS üíñ', 60);

        music.volume = 0;
        music.play().catch(err => console.warn('No se pudo reproducir la m√∫sica:', err));
        let volume = 0;
        const fadeIn = setInterval(() => {
          if (volume < 0.6) {
            volume += 0.05;
            music.volume = Math.min(volume, 0.6);
          } else {
            clearInterval(fadeIn);
          }
        }, 200);

        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
      }, 1000);
    });

    exportBtn.addEventListener('click', () => {
      const target = document.getElementById('secretMessage');

      // Oculta el bot√≥n antes de capturar
      exportBtn.style.visibility = 'hidden';

      html2canvas(target, {
        backgroundColor: null,
        scale: 2,
      }).then(canvas => {
        // Vuelve a mostrar el bot√≥n
        exportBtn.style.visibility = 'visible';

        const link = document.createElement('a');
        link.download = 'regalo_para_ti.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      });
    });


    function revealText(element, text, speed = 50) {
      let i = 0;
      element.textContent = '';
      const interval = setInterval(() => {
        element.textContent += text[i];
        i++;
        if (i >= text.length) clearInterval(interval);
      }, speed);
    }
  });
</script>   </main> <footer class="footer-banner">
Hecho con mucho cari√±o para mi chica mexicana üá≤üáΩüñ§
</footer> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const o=document.documentElement.getAttribute("data-base")||"/",d=document.getElementById("modo-toggle");localStorage.getItem("modoOscuro")==="true"&&document.body.classList.add("dark"),d?.addEventListener("click",()=>{document.body.classList.toggle("dark"),localStorage.setItem("modoOscuro",document.body.classList.contains("dark"))});const n=document.querySelector(".petal-layer");n.innerHTML="";for(let t=0;t<20;t++){const e=document.createElement("div");e.className="petal";const a=["üå∏","üå∫","üíÆ"];e.textContent=a[Math.floor(Math.random()*a.length)],e.style.left=`${Math.random()*100}vw`,e.style.animationDelay=`${Math.random()*5}s`,n.appendChild(e)}window.fadeAndGo=function(t){const e=document.querySelector(".page-transition");e?(e.classList.add("fade-out"),setTimeout(()=>{window.location.assign(t)},600)):window.location.assign(t)},window.goBack=t=>{t?.preventDefault?.(),document.referrer&&document.referrer.includes(window.location.origin)?history.back():window.location.assign(o)},window.goTo=t=>{const e=o+t;fadeAndGo(e)}});</script> </body> </html>