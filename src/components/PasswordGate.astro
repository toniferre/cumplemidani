---
const correctPassword = '04-11-2024';
---

<section data-aos="fade-up" style="text-align:center; padding:2rem;">
  <h2>Muchas felicidades chilaquilita. Hoy es tu cumple!</h2>
  <img src="/cat.gif" alt="Felicidad" class="cat-gif" />
  <br/>
  <p>Para seguir con mi regalo, ¿Te acuerdas del día en que te escribí por primera vez?</p>
  <form id="form">
    <input type="date" id="password" aria-label="Fecha especial" required />
    <button type="submit">Entrar</button>
  </form>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('form');
    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      const input = document.getElementById('password');
      if (!input) return;

      const raw = input.value.trim(); // formato yyyy-mm-dd
      const [year, month, day] = raw.split('-');
      const formatted = `${day}-${month}-${year}`; // convertir a dd-mm-yyyy

      if (formatted === '04-11-2024') {
        window.location.href = '/presentacion';
      } else {
        alert('Ups... error');
        input.classList.add('invalid');
      }
    });
  });
</script>

<style>
  input[type="date"] {
    padding: 0.6em 1em;
    border-radius: 8px;
    border: 2px solid #ccc;
    font-size: 1em;
    margin-top: 1rem;
    background-color: #fffafc;
    color: #ff69b4;
    box-shadow: 0 2px 6px rgba(255, 105, 180, 0.2);
    transition: border-color 0.3s ease;
  }

  input.invalid {
    border-color: red;
    animation: shake 0.3s ease;
  }

  button {
    margin-top: 1rem;
    background-color: #ff69b4;
    color: white;
    border: none;
    padding: 0.6em 1.2em;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.3s ease;
  }

  button:hover {
    background-color: #ff85c1;
  }

  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
  }
</style>
