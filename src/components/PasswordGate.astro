---
const correctPassword = '04-11-2024';
---

<section class="page-transition" data-aos="fade-up" style="text-align:center; padding:2rem;">
  <div class="slide-content">
    <h2>Mi solete ðŸ¥º has llegado a mi regalo y es que hoy es tu cumple!</h2>
    <img src={`${import.meta.env.BASE_URL}cat.gif`} alt="Felicidad" class="cat-gif" />
    <p>Para seguir con mi regalo, Â¿Te acuerdas del dÃ­a en que te escribÃ­ por primera vez?</p>
    <form id="form">
      <input type="date" id="password" aria-label="Fecha especial" required />
      <button type="submit">Entrar</button>
      <p id="error-msg" style="color:white; margin-top:1rem;"></p>
    </form>
  </div>
</section>


<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('form');
    const errorMsg = document.getElementById('error-msg');

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      const input = document.getElementById('password');
      if (!input) return;

      const raw = input.value.trim();
      const [year, month, day] = raw.split('-');
      const formatted = `${day}-${month}-${year}`;

      if (formatted === '04-11-2024') {
        const destino = `${import.meta.env.BASE_URL}presentacion`;

        if (typeof fadeAndGo === 'function') {
          fadeAndGo(destino);
        } else {
          window.location.href = destino;
        }

      } else {
        errorMsg.textContent = 'Ups... esa no es la fecha mÃ¡gica ðŸ’”';
        input.classList.add('invalid');
      }
    });
  });
</script>
